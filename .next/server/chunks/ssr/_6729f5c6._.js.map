{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../src/lib/actions/admin/data%3A6e44c2%20%3Ctext/javascript%3E","../../../../src/components/ui/admin/admin-tabs.tsx","../../../../src/components/ui/admin/tab-button.tsx","../../../../src/components/ui/admin/data-table.tsx","../../../../app/dashboard/admin/page.tsx"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","/* __next_internal_action_entry_do_not_use__ [{\"40dbeeb162e059ce773ea6d9a6027e012cc9ed5594\":\"getData\"},\"src/lib/actions/admin/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var getData=/*#__PURE__*/createServerReference(\"40dbeeb162e059ce773ea6d9a6027e012cc9ed5594\",callServer,void 0,findSourceMapURL,\"getData\");","\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport TabButton from \"./tab-button\";\r\nimport DataTable from \"./data-table\";\r\nimport { getData } from \"@/src/lib/actions/admin/action\";\r\n\r\ntype TabConfig = {\r\n  id: string;\r\n  label: string;\r\n  action: () => Promise<any[]>;\r\n};\r\n\r\nconst TABS: TabConfig[] = [\r\n  { id: \"modes\", label: \"Modos de grado\", action: () => getData(\"modes\") },\r\n  { id: \"phase\", label: \"Fases\", action: () => getData(\"phase\") },\r\n  {\r\n    id: \"phase_work\",\r\n    label: \"Fase del trabajo\",\r\n    action: () => getData(\"phase_work\"),\r\n  },\r\n  { id: \"programs\", label: \"Programas\", action: () => getData(\"programs\") },\r\n  { id: \"roles\", label: \"Roles\", action: () => getData(\"roles\") },\r\n  { id: \"schools\", label: \"Escuelas\", action: () => getData(\"schools\") },\r\n  {\r\n    id: \"status_user\",\r\n    label: \"Estatus del usuario\",\r\n    action: () => getData(\"status_user\"),\r\n  },\r\n  { id: \"users\", label: \"Usuarios\", action: () => getData(\"users\") },\r\n  {\r\n    id: \"work_documents\",\r\n    label: \"Documentos de trabajo\",\r\n    action: () => getData(\"work_documents\"),\r\n  },\r\n  { id: \"works\", label: \"Trabajos\", action: () => getData(\"works\") },\r\n];\r\n\r\nexport default function AdminTabs() {\r\n  const [activeTab, setActiveTab] = useState(TABS[0]);\r\n  const [data, setData] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    load();\r\n  }, [activeTab]);\r\n\r\n  async function load() {\r\n    setLoading(true);\r\n    const result = await activeTab.action();\r\n    setData(result);\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4\">\r\n      <div className=\"border-b\">\r\n        <div className=\"flex gap-2 overflow-x-auto pb-2 scrollbar-hide\">\r\n          {TABS.map((tab) => (\r\n            <TabButton\r\n              key={tab.id}\r\n              active={tab.id === activeTab.id}\r\n              onClick={() => setActiveTab(tab)}\r\n            >\r\n              {tab.label}\r\n            </TabButton>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative h-[60vh] md:h-[65vh]\">\r\n        {loading ? (\r\n          <div className=\"flex items-center justify-center h-full text-gray-500\">\r\n            Cargando...\r\n          </div>\r\n        ) : (\r\n          <DataTable data={data} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","interface Props {\r\n  children: React.ReactNode\r\n  active: boolean\r\n  onClick: () => void\r\n}\r\n\r\nexport default function TabButton({ children, active, onClick }: Props) {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={`flex-shrink-0 rounded-t-lg px-4 py-2 text-sm font-medium transition\r\n        ${\r\n          active\r\n            ? 'border-b-2 border-blue-600 text-blue-600 bg-blue-50'\r\n            : 'text-gray-500 hover:text-gray-700 hover:bg-gray-100'\r\n        }`}\r\n    >\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n","interface DataTableProps {\r\n  data: Record<string, any>[]\r\n}\r\n\r\nexport default function DataTable({ data }: DataTableProps) {\r\n  if (!data?.length) {\r\n    return (\r\n      <div className=\"text-center text-gray-500 py-10\">\r\n        No hay datos para mostrar\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const columns = Object.keys(data[0])\r\n\r\n  return (\r\n    <div className=\"h-full overflow-auto rounded-xl border\">\r\n      <table className=\"w-full text-sm border-collapse\">\r\n        <thead className=\"sticky top-0 bg-gray-100\">\r\n          <tr>\r\n            {columns.map(col => (\r\n              <th\r\n                key={col}\r\n                className=\"px-4 py-3 border-b text-left font-semibold text-gray-700 whitespace-nowrap\"\r\n              >\r\n                {col.replaceAll('_', ' ')}\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {data.map((row, i) => (\r\n            <tr\r\n              key={i}\r\n              className=\"odd:bg-white even:bg-gray-50 hover:bg-blue-50 transition\"\r\n            >\r\n              {columns.map(col => (\r\n                <td\r\n                  key={col}\r\n                  className=\"px-4 py-2 border-b text-gray-700 whitespace-nowrap\"\r\n                >\r\n                  {formatValue(row[col])}\r\n                </td>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction formatValue(value: any) {\r\n  if (value === null) return '—'\r\n  if (typeof value === 'boolean') return value ? 'Sí' : 'No'\r\n  if (typeof value === 'object') return JSON.stringify(value)\r\n  return String(value)\r\n}\r\n","\"use client\";\r\n\r\nimport AdminTabs from \"@/src/components/ui/admin/admin-tabs\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\nexport default function AdminPage() {\r\n  const pathname = usePathname();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 px-4 py-6 md:px-8\">\r\n      <div className=\"w-full\">\r\n        <div className=\"flex justify-between items-center mb-7\">\r\n          <h2 className=\"text-3xl font-bold text-gray-800\">\r\n            Admin Dashboard\r\n          </h2>\r\n          <div className=\"flex gap-4\">\r\n            <Link href={`${pathname}/users`}>\r\n              <button className=\" w-full py-2 px-3 rounded-xl bg-(--secondary-color) text-white font-semibold hover:bg-(--secondary-color)/90 transition\">\r\n                Usuarios\r\n              </button>\r\n            </Link>\r\n            <Link href={`${pathname}/programs`}>\r\n              <button className=\" w-full py-2 px-3 rounded-xl bg-(--secondary-color) text-white font-semibold hover:bg-(--secondary-color)/90 transition\">\r\n                Programas\r\n              </button>\r\n            </Link>\r\n            <Link href={`${pathname}/schools`}>\r\n              <button className=\" w-full py-2 px-3 rounded-xl bg-(--secondary-color) text-white font-semibold hover:bg-(--secondary-color)/90 transition\">\r\n                Escuelas\r\n              </button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-2xl shadow-sm border p-4 md:p-6\">\r\n          <AdminTabs />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"oGAGSA,UAAU,CAAA,kBAAVA,EAAAA,UAAU,EAMVC,qBAAqB,CAAA,kBAArBA,EAAAA,qBAAqB,EALrBC,gBAAgB,CAAA,kBAAhBA,EAAAA,gBAAgB,8EADE,CAAA,CAAA,IAAA,OACM,CAAA,CAAA,IAAA,MAKK,CAAA,CAAA,IAAA,2BCTyI,IAAA,EAAA,EAAA,CAAA,CAAA,MAAiH,EAAqB,CAAA,EAAA,EAAA,GAAb,WAAW,OAAE,AAAqB,EAAC,6CAA6C,EAAA,UAAU,CAAC,KAAK,EAAE,EAAA,gBAAgB,CAAC,2ECE3Z,EAAA,EAAA,CAAA,CAAA,OCIe,SAAS,EAAU,UAAE,CAAQ,QAAE,CAAM,SAAE,CAAO,CAAS,EACpE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAW,CAAC;QACV,EACE,EACI,sDACA,sDAAA,CACJ,UAEH,GAGP,CChBe,SAAS,EAAU,CAAE,MAAI,CAAkB,EACxD,GAAI,CAAC,GAAM,OACT,CADiB,KAEf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CAAkC,8BAMrD,IAAM,EAAU,OAAO,IAAI,CAAC,CAAI,CAAC,EAAE,EAEnC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,2CACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,oCACf,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACE,EAAQ,GAAG,CAAC,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAEC,UAAU,sFAET,EAAI,UAAU,CAAC,IAAK,MAHhB,QASb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,EAAK,GAAG,CAAC,CAAC,EAAK,IACd,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAEC,UAAU,oEAET,EAAQ,GAAG,CAAC,QAgBN,KAAU,GAff,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAEC,UAAU,8DAc1B,AAAI,AAAU,CAZG,KAYG,IAZS,CAAG,CAAC,EAAI,EAYV,IACN,AAAjB,WAA4B,OAArB,EAA4B,EAAQ,KAAO,KAClD,AAAiB,UAAU,OAApB,EAA2B,KAAK,SAAS,CAAC,GAC9C,OAAO,IAlBO,MALJ,UAiBnB,CF9CA,IAAA,EAAA,EAAA,CAAA,CAAA,OAQA,IAAM,EAAoB,CACxB,CAAE,GAAI,QAAS,MAAO,iBAAkB,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,QAAS,EACvE,CAAE,GAAI,QAAS,MAAO,QAAS,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,QAAS,EAC9D,CACE,GAAI,aACJ,MAAO,mBACP,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,aACxB,EACA,CAAE,GAAI,WAAY,MAAO,YAAa,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAO,AAAP,EAAQ,WAAY,EACxE,CAAE,GAAI,QAAS,MAAO,QAAS,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,QAAS,EAC9D,CAAE,GAAI,UAAW,MAAO,WAAY,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,UAAW,EACrE,CACE,GAAI,cACJ,MAAO,sBACP,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,cACxB,EACA,CAAE,GAAI,QAAS,MAAO,WAAY,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,QAAS,EACjE,CACE,GAAI,iBACJ,MAAO,wBACP,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,iBACxB,EACA,CAAE,GAAI,QAAS,MAAO,WAAY,OAAQ,IAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,QAAS,EAClE,CAEc,SAAS,IACtB,GAAM,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAI,CAAC,EAAE,EAC5C,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAQ,EAAE,EACpC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAMvC,eAAe,IACb,GAAW,GAEX,EADe,MAAM,AACb,EADuB,MAAM,IAErC,GAAW,EACb,CAEA,MAXA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,CAAC,EAAU,EAUZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DACZ,EAAK,GAAG,CAAC,AAAC,GACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,OAAQ,EAAI,EAAE,GAAK,EAAU,EAAE,CAC/B,QAAS,IAAM,EAAa,YAE3B,EAAI,KAAK,EAJL,EAAI,EAAE,OAUnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iEAAwD,gBAIvE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,KAAM,QAK3B,CG9EA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAW,CAAA,EAAA,EAAA,WAAW,AAAX,IAEjB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,oBAGjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAA,EAAG,EAAS,MAAM,CAAC,UAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,mIAA0H,eAI9I,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAA,EAAG,EAAS,SAAS,CAAC,UAChC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,mIAA0H,gBAI9I,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAA,EAAG,EAAS,QAAQ,CAAC,UAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,mIAA0H,qBAOlJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,SAKX","ignoreList":[0]}