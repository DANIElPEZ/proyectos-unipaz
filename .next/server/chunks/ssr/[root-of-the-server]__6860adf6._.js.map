{"version":3,"sources":["../../../../src/lib/actions/admin/data%3A6e44c2%20%3Ctext/javascript%3E","../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../src/lib/utils.ts","../../../../src/components/ui/data-modal.tsx","../../../../src/lib/definitions/schemas.ts","../../../../src/lib/actions/student/data%3A1a3c66%20%3Ctext/javascript%3E","../../../../src/lib/actions/professor/data%3A7396a7%20%3Ctext/javascript%3E","../../../../src/lib/actions/admin/data%3A87d6ca%20%3Ctext/javascript%3E","../../../../src/lib/actions/admin/data%3A90bf8e%20%3Ctext/javascript%3E","../../../../src/lib/definitions/table-config.ts","../../../../src/lib/actions/manager/data%3Ae77030%20%3Ctext/javascript%3E","../../../../src/lib/actions/manager/data%3Ab2c3e2%20%3Ctext/javascript%3E","../../../../src/lib/actions/manager/data%3Aec5a36%20%3Ctext/javascript%3E","../../../../src/lib/actions/manager/data%3A23e2a9%20%3Ctext/javascript%3E","../../../../src/lib/actions/manager/data%3A757d1e%20%3Ctext/javascript%3E","../../../../src/lib/actions/manager/data%3Ab5e521%20%3Ctext/javascript%3E","../../../../src/components/ui/student/edit-data.tsx","../../../../src/lib/actions/student/data%3Acc2f48%20%3Ctext/javascript%3E","../../../../src/components/ui/project-modal.tsx"],"sourcesContent":["/* __next_internal_action_entry_do_not_use__ [{\"40dbeeb162e059ce773ea6d9a6027e012cc9ed5594\":\"getData\"},\"src/lib/actions/admin/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var getData=/*#__PURE__*/createServerReference(\"40dbeeb162e059ce773ea6d9a6027e012cc9ed5594\",callServer,void 0,findSourceMapURL,\"getData\");","// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","export function validateUser(user: number): boolean {\r\n  return /^[0-9]+$/.test(user.toString());\r\n}\r\n\r\nexport function validatePassword(password: string): boolean {\r\n  return /^[a-zA-Z0-9!@#$%^&*()_\\-+=\\[\\]{}|\\\\:;\"'<>,.?/]+$/.test(password);\r\n}\r\n\r\nexport function formatValue(value: any) {\r\n  if (value === null) return \"â€”\";\r\n  if (typeof value === \"boolean\") return value ? \"SÃ­\" : \"No\";\r\n  if (typeof value === \"object\") return JSON.stringify(value);\r\n  return String(value);\r\n}\r\n\r\nexport const getLastDocument = (docs: any[]) => {\r\n  if (!Array.isArray(docs) || docs.length === 0) return null;\r\n  return docs.reduce((latest, doc) =>\r\n    doc.version > latest.version ? doc : latest,\r\n  );\r\n};\r\n\r\nexport const formatDate = (date?: string) => {\r\n  if (!date) return \"-\";\r\n  return new Date(date).toLocaleDateString(\"es-CO\", {\r\n    year: \"numeric\",\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n  });\r\n};","\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { IoClose } from \"react-icons/io5\";\r\nimport { ModalSchema } from \"@/src/lib/definitions/schemas\";\r\n\r\ninterface Props {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  schema: ModalSchema;\r\n  initialData?: any | null;\r\n  onSubmit: (data: any, isEdit: boolean) => Promise<void>;\r\n}\r\n\r\nexport function GenericCrudModal({\r\n  open,\r\n  onClose,\r\n  schema,\r\n  initialData,\r\n  onSubmit,\r\n}: Props) {\r\n  const [form, setForm] = useState<any>({});\r\n\r\n  const isEdit = Boolean(initialData);\r\n\r\n  useEffect(() => {\r\n    if (isEdit) setForm(initialData);\r\n    else {\r\n      const empty: any = {};\r\n      schema.fields.forEach((f) => (empty[f.name] = \"\"));\r\n      setForm(empty);\r\n    }\r\n  }, [initialData, schema.fields, isEdit]);\r\n\r\n  const handleChange = (name: string, value: any) => {\r\n    setForm({ ...form, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    await onSubmit(form, isEdit);\r\n    onClose();\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm\">\r\n      <div className=\"bg-white rounded-2xl w-full max-w-md p-6 relative shadow-xl\">\r\n        <button\r\n          onClick={onClose}\r\n          className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-700\"\r\n        >\r\n          <IoClose size={22} />\r\n        </button>\r\n\r\n        <h3 className=\"text-xl font-semibold text-gray-800 mb-6\">\r\n          {isEdit ? schema.titleEdit : schema.titleCreate}\r\n        </h3>\r\n\r\n        <form\r\n          className=\"space-y-4 max-h-[65vh] overflow-y-auto pr-2\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          {schema.fields.map((field) => (\r\n            <div key={field.name}>\r\n              <label className=\"text-sm text-gray-600\">{field.label}</label>\r\n\r\n              {field.type === \"select\" ? (\r\n                <select\r\n                  value={form[field.name] ?? \"\"}\r\n                  disabled={isEdit && field.disabledOnEdit}\r\n                  onChange={(e) => handleChange(field.name, e.target.value)}\r\n                  className=\"w-full mt-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-(--primary-color)\"\r\n                >\r\n                  <option value=\"\">Seleccione</option>\r\n                  {field.options?.map((opt) => (\r\n                    <option key={opt.value} value={opt.value}>\r\n                      {opt.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              ) : field.type === \"file\" ? (\r\n                <div className=\"mt-1\">\r\n                  <input\r\n                    type=\"file\"\r\n                    multiple\r\n                    onChange={(e) => {\r\n                      const files = e.target.files\r\n                        ? Array.from(e.target.files)\r\n                        : [];\r\n                      handleChange(field.name, files);\r\n                    }}\r\n                    className=\"w-full text-sm text-gray-500 border rounded-lg p-2\r\n                 file:mr-4 file:py-1 file:px-3 file:rounded-md\r\n                 file:border-0 file:text-sm file:font-semibold\r\n                 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\r\n                  />\r\n\r\n                  {Array.isArray(form[field.name]) &&\r\n                    form[field.name].length > 0 && (\r\n                      <ul className=\"mt-2 space-y-1\">\r\n                        {form[field.name].map((file: File, index: number) => (\r\n                          <li\r\n                            key={index}\r\n                            className=\"text-xs text-blue-600 flex items-center gap-1\"\r\n                          >\r\n                            <span className=\"truncate max-w-[200px]\">\r\n                              ðŸ“„ {file.name}\r\n                            </span>\r\n                            <span className=\"text-gray-400\">\r\n                              ({(file.size / 1024).toFixed(1)} KB)\r\n                            </span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    )}\r\n                </div>\r\n              ) : (\r\n                <input\r\n                  type={field.type}\r\n                  value={form[field.name] ?? \"\"}\r\n                  disabled={isEdit && field.disabledOnEdit}\r\n                  onChange={(e) => handleChange(field.name, e.target.value)}\r\n                  className=\"w-full mt-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-(--primary-color)\"\r\n                />\r\n              )}\r\n            </div>\r\n          ))}\r\n\r\n          <button className=\"w-full mt-4 bg-(--primary-color) text-white py-2 rounded-lg font-medium hover:opacity-90\">\r\n            {isEdit ? schema.submitEditLabel : schema.submitCreateLabel}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","type FieldType = \"text\" | \"email\" | \"password\" | \"select\" | \"date\" | \"multiselect\" | \"file\";\r\n\r\ninterface FieldSchema {\r\n  name: string\r\n  label: string\r\n  type: FieldType\r\n  options?: { value: any; label: string }[]\r\n  disabledOnEdit?: boolean\r\n}\r\n\r\nexport interface ModalSchema {\r\n  titleCreate: string\r\n  titleEdit: string\r\n  submitCreateLabel: string\r\n  submitEditLabel: string\r\n  fields: FieldSchema[]\r\n}\r\n\r\n//admin\r\nexport const userModalSchema: ModalSchema = {\r\n  titleCreate: \"Crear usuario\",\r\n  titleEdit: \"Editar usuario\",\r\n  submitCreateLabel: \"Crear usuario\",\r\n  submitEditLabel: \"Actualizar usuario\",\r\n  fields: [\r\n    { name: \"name\", label: \"Nombre *\", type: \"text\" },\r\n    { name: \"id_document\", label: \"Documento *\", type: \"text\" },\r\n    {\r\n      name: \"id_role\",\r\n      label: \"Rol *\",\r\n      type: \"select\",\r\n    },\r\n    { name: \"email\", label: \"Email *\", type: \"email\" },\r\n    { name: \"password\", label: \"ContraseÃ±a *\", type: \"password\" },\r\n    {\r\n      name: \"program\",\r\n      label: \"Programa *\",\r\n      type: \"select\",\r\n    },\r\n    {\r\n      name: \"id_status\",\r\n      label: \"Estado *\",\r\n      type: \"select\",\r\n    },\r\n    {\r\n      name: \"id_school\",\r\n      label: \"Escuela *\",\r\n      type: \"select\",\r\n    },\r\n  ],\r\n}\r\n\r\nexport const schoolModalSchema: ModalSchema = {\r\n  titleCreate: \"Crear escuela\",\r\n  titleEdit: \"Editar escuela\",\r\n  submitCreateLabel: \"Crear\",\r\n  submitEditLabel: \"Actualizar\",\r\n  fields: [{ name: \"name\", label: \"Nombre *\", type: \"text\" }],\r\n}\r\n\r\nexport const programModalSchema: ModalSchema = {\r\n  titleCreate: \"Crear programa\",\r\n  titleEdit: \"Editar programa\",\r\n  submitCreateLabel: \"Crear\",\r\n  submitEditLabel: \"Actualizar\",\r\n  fields: [\r\n    { name: \"name\", label: \"Nombre *\", type: \"text\" },\r\n    {\r\n      name: \"id_school\",\r\n      label: \"Escuela *\",\r\n      type: \"select\",\r\n    },\r\n  ],\r\n}\r\n\r\n//manager\r\nexport const statusUserModalSchema: ModalSchema = {\r\n  titleCreate: \"Actualizar estatus del usuario\",\r\n  titleEdit: \"Actualizar estado del estudiante\",\r\n  submitCreateLabel: \"Crear\",\r\n  submitEditLabel: \"Actualizar\",\r\n  fields: [\r\n    {\r\n      name: \"id_status\",\r\n      label: \"Estatus\",\r\n      type: \"select\",\r\n    },\r\n  ],\r\n}\r\n\r\nexport const projectModalSchema: ModalSchema = {\r\n  titleCreate: \"Crear proyecto\",\r\n  titleEdit: \"Editar proyecto\",\r\n  submitCreateLabel: \"Crear proyecto\",\r\n  submitEditLabel: \"Actualizar proyecto\",\r\n  fields: [\r\n    { name: \"title\", label: \"Nombre *\", type: \"text\" },\r\n    { name: \"description\", label: \"DescripciÃ³n *\", type: \"text\" },\r\n    { name: \"is_best\", label: \"Gran proyecto\", type: \"text\" },\r\n    {\r\n      name: \"id_program\",\r\n      label: \"Programa *\",\r\n      type: \"select\",\r\n    },\r\n    {\r\n      name: \"id_school\",\r\n      label: \"Escuela *\",\r\n      type: \"select\",\r\n    },\r\n    {\r\n      name: \"id_mode\",\r\n      label: \"tipo de proyecto *\",\r\n      type: \"select\",\r\n    },\r\n    {\r\n      name: \"initial_date\",\r\n      label: \"Fecha inicial *\",\r\n      type: \"date\",\r\n    },\r\n    {\r\n      name: \"id_professors *\",\r\n      label: \"Profesores\",\r\n      type: \"multiselect\",\r\n    },\r\n    {\r\n      name: \"id_students *\",\r\n      label: \"Estudiantes\",\r\n      type: \"multiselect\",\r\n    },\r\n  ],\r\n}\r\n\r\nexport const phaseModalSchema: ModalSchema = {\r\n  titleCreate: \"Actualizar fase del proyecto\",\r\n  titleEdit: \"Actualizar fase del proyecto\",\r\n  submitCreateLabel: \"Actualizar proyecto\",\r\n  submitEditLabel: \"Actualizar proyecto\",\r\n  fields: [\r\n    {\r\n      name: \"id_work *\",\r\n      label: \"titulo del proyecto\",\r\n      type: \"select\",\r\n    },\r\n    {\r\n      name: \"id_phase *\",\r\n      label: \"Fase\",\r\n      type: \"select\",\r\n    },\r\n    {\r\n      name: \"initial_date *\",\r\n      label: \"Fecha inicial\",\r\n      type: \"date\",\r\n    },\r\n    {\r\n      name: \"id_professors *\",\r\n      label: \"Profesores\",\r\n      type: \"multiselect\",\r\n    },\r\n    {\r\n      name: \"id_students *\",\r\n      label: \"Estudiantes\",\r\n      type: \"multiselect\",\r\n    },\r\n  ],\r\n}\r\n\r\nexport const phaseProjectDateModalSchema: ModalSchema = {\r\n  titleCreate: \"Actualizar fecha fin\",\r\n  titleEdit: \"Actualizar fecha fin\",\r\n  submitCreateLabel: \"Actualizar fecha\",\r\n  submitEditLabel: \"Actualizar\",\r\n  fields: [\r\n    {\r\n      name: \"id_work *\",\r\n      label: \"titulo del proyecto\",\r\n      type: \"select\",\r\n    },\r\n    {\r\n      name: \"id_phase *\",\r\n      label: \"Fase del proyecto\",\r\n      type: \"select\",\r\n    },\r\n    {\r\n      name: \"end_date *\",\r\n      label: \"Fin de la fase\",\r\n      type: \"date\",\r\n    },\r\n  ],\r\n}\r\n\r\nexport const studentAdvanceModalSchema: ModalSchema = {\r\n  titleCreate: \"Nuevo avance\",\r\n  titleEdit: \"Editar avance\",\r\n  submitCreateLabel: \"Subir avance\",\r\n  submitEditLabel: \"Actualizar\",\r\n  fields: [\r\n    {\r\n      name: \"file\",\r\n      label: \"Archivo word o excel *\",\r\n      type: \"file\",\r\n    },\r\n    {\r\n      name: \"version\",\r\n      label: \"version *\",\r\n      type: \"text\",\r\n    },\r\n    {\r\n      name: \"description\",\r\n      label: \"DescripciÃ³n\",\r\n      type: \"text\",\r\n    },\r\n  ],\r\n};\r\n\r\nexport const professorFeedbackModalSchema: ModalSchema = {\r\n  titleCreate: \"Nuevo avance\",\r\n  titleEdit: \"Editar avance\",\r\n  submitCreateLabel: \"Subir avance\",\r\n  submitEditLabel: \"Actualizar\",\r\n  fields: [\r\n    {\r\n      name: \"file\",\r\n      label: \"Archivo word o excel *\",\r\n      type: \"file\",\r\n    },\r\n    {\r\n      name: \"professor_comments\",\r\n      label: \"Comentarios del profesor\",\r\n      type: \"text\",\r\n    },\r\n  ],\r\n};","/* __next_internal_action_entry_do_not_use__ [{\"40df1140757c877a0cf5908cbf3501a791abd968f4\":\"insertDataStudent\"},\"src/lib/actions/student/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var insertDataStudent=/*#__PURE__*/createServerReference(\"40df1140757c877a0cf5908cbf3501a791abd968f4\",callServer,void 0,findSourceMapURL,\"insertDataStudent\");","/* __next_internal_action_entry_do_not_use__ [{\"4023375bd8a23baae2dbdd008432443971914172c5\":\"updateDataProfessor\"},\"src/lib/actions/professor/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updateDataProfessor=/*#__PURE__*/createServerReference(\"4023375bd8a23baae2dbdd008432443971914172c5\",callServer,void 0,findSourceMapURL,\"updateDataProfessor\");","/* __next_internal_action_entry_do_not_use__ [{\"603f537fdc2a97a1500ac983e263e983cb53542d1f\":\"insertData\"},\"src/lib/actions/admin/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var insertData=/*#__PURE__*/createServerReference(\"603f537fdc2a97a1500ac983e263e983cb53542d1f\",callServer,void 0,findSourceMapURL,\"insertData\");","/* __next_internal_action_entry_do_not_use__ [{\"789356f77ab1b0865bf38f9fb0beb43681a836e7c7\":\"updateData\"},\"src/lib/actions/admin/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updateData=/*#__PURE__*/createServerReference(\"789356f77ab1b0865bf38f9fb0beb43681a836e7c7\",callServer,void 0,findSourceMapURL,\"updateData\");","import {\r\n  userModalSchema,\r\n  schoolModalSchema,\r\n  programModalSchema,\r\n  projectModalSchema,\r\n  phaseProjectDateModalSchema,\r\n  statusUserModalSchema,\r\n  phaseModalSchema,\r\n  studentAdvanceModalSchema,\r\n  professorFeedbackModalSchema\r\n} from \"./schemas\"\r\n\r\nimport { insertDataStudent } from \"@/src/lib/actions/student/action\";\r\nimport { updateDataProfessor} from \"@/src/lib/actions/professor/action\";\r\nimport { insertData, updateData, getData } from \"@/src/lib/actions/admin/action\"\r\nimport { createProject, updatePhaseProject, updatePhaseProjectDate, updateProject, updateUserStatus, getCustomData } from \"@/src/lib/actions/manager/action\"\r\n\r\nexport const tableConfig: any = {\r\n  users: {\r\n    schema: userModalSchema,\r\n    createAction: async (table_name: string, data: Map<any, any>) => {\r\n      insertData(table_name, data)\r\n    },\r\n    updateAction: async (table_name: string, data: Map<any, any>, id: number) => {\r\n      updateData(table_name, data, id, 'id_user');\r\n    },\r\n    loadRelations: async () => {\r\n      const roles = await getData(\"roles\")\r\n      const programs = await getData(\"programs\")\r\n      const status_user = await getData(\"status_user\")\r\n      const schools = await getData(\"schools\")\r\n      return {\r\n        roles: roles,\r\n        programs: programs,\r\n        status: status_user,\r\n        schools: schools\r\n      }\r\n    },\r\n  },\r\n\r\n  schools: {\r\n    schema: schoolModalSchema,\r\n    createAction: async (table_name: string, data: Map<any, any>) => {\r\n      insertData(table_name, data)\r\n    },\r\n    updateAction: async (table_name: string, data: Map<any, any>, id: number) => {\r\n      updateData(table_name, data, id, 'id_school');\r\n    }\r\n  },\r\n\r\n  programs: {\r\n    schema: programModalSchema,\r\n    createAction: async (table_name: string, data: Map<any, any>) => {\r\n      insertData(table_name, data)\r\n    },\r\n    updateAction: async (table_name: string, data: Map<any, any>, id: number) => {\r\n      updateData(table_name, data, id, 'id_program');\r\n    },\r\n    loadRelations: async () => {\r\n      const schools = await getData(\"schools\")\r\n      return {\r\n        schools: schools\r\n      }\r\n    },\r\n\r\n  },\r\n\r\n  Project: {\r\n    schema: projectModalSchema,\r\n    createAction: async (data: Map<any, any>) => {\r\n      createProject(data)\r\n    },\r\n    updateAction: async (data: Map<any, any>, id: number) => {\r\n      updateProject(data, id);\r\n    },\r\n    loadRelations: async (school_id: number) => {\r\n      const schools = await getCustomData('schools','*',school_id);\r\n      const programs = await getCustomData('programs','id_program, name',school_id);\r\n      const mode = await getCustomData('modes');\r\n      const students = await getCustomData('users', 'id_user, name', school_id,4);\r\n      const professors = await getCustomData('users', 'id_user, name', school_id,3);\r\n      return {\r\n        schools:schools,\r\n        programs: programs,\r\n        mode: mode,\r\n        students: students,\r\n        professors: professors\r\n      }\r\n    }\r\n  },\r\n\r\n  usersManager:{\r\n    schema: statusUserModalSchema,\r\n    updateAction: async (status: number) => {\r\n      updateUserStatus(status);\r\n    },\r\n    loadRelations: async () => {\r\n      const estatus = await getCustomData(\"status_user\")\r\n      return {\r\n        status: estatus\r\n      }\r\n    },\r\n  },\r\n\r\n  newPhase:{\r\n    schema: phaseModalSchema,\r\n    createAction: async (data: Map<any, any>) => {\r\n      updatePhaseProject(data);\r\n    },\r\n    loadRelations: async (school_id: number) => {\r\n      const phase = await getCustomData('phase');\r\n      const works = await getCustomData('works','id_work, title',school_id);\r\n      const students = await getCustomData('users', 'id_user, name', school_id,4);\r\n      const professors = await getCustomData('users', 'id_user, name', school_id,3);\r\n      return {\r\n        phase: phase,\r\n        works: works,\r\n        students: students,\r\n        professors: professors\r\n      }\r\n    }\r\n  },\r\n\r\n  datePhase:{\r\n    schema: phaseProjectDateModalSchema,\r\n    createAction: async (data: Map<any, any>) => {\r\n      updatePhaseProjectDate(data);\r\n    },\r\n    loadRelations: async (school_id: number) => {\r\n      const phase = await getCustomData('phase');\r\n      const works = await getCustomData('works','id_work, title',school_id);\r\n      return {\r\n        phase: phase,\r\n        works: works\r\n      }\r\n    }\r\n  },\r\n\r\n  studentAdvance: {\r\n    schema: studentAdvanceModalSchema,\r\n    createAction: async (formData: FormData) => {\r\n      await insertDataStudent(formData);\r\n    },\r\n  },\r\n\r\n  professorFeedback: {\r\n    schema: professorFeedbackModalSchema,\r\n    updateAction: async (formData: FormData) => {\r\n      await updateDataProfessor(formData);\r\n    },\r\n  }\r\n}\r\n","/* __next_internal_action_entry_do_not_use__ [{\"402620dffcd3c85786e3b09cbf5845ddde39a9ce98\":\"createProject\"},\"src/lib/actions/manager/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var createProject=/*#__PURE__*/createServerReference(\"402620dffcd3c85786e3b09cbf5845ddde39a9ce98\",callServer,void 0,findSourceMapURL,\"createProject\");","/* __next_internal_action_entry_do_not_use__ [{\"40125bccffa017b42e903c0dcaad09bf605e682708\":\"updatePhaseProject\"},\"src/lib/actions/manager/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updatePhaseProject=/*#__PURE__*/createServerReference(\"40125bccffa017b42e903c0dcaad09bf605e682708\",callServer,void 0,findSourceMapURL,\"updatePhaseProject\");","/* __next_internal_action_entry_do_not_use__ [{\"404c6d4fcb17c8ca1923809c46ed86bb2511a6522c\":\"updatePhaseProjectDate\"},\"src/lib/actions/manager/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updatePhaseProjectDate=/*#__PURE__*/createServerReference(\"404c6d4fcb17c8ca1923809c46ed86bb2511a6522c\",callServer,void 0,findSourceMapURL,\"updatePhaseProjectDate\");","/* __next_internal_action_entry_do_not_use__ [{\"60095e3d4e4173083ded4e8a12e6c7ddd48913e0d1\":\"updateProject\"},\"src/lib/actions/manager/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updateProject=/*#__PURE__*/createServerReference(\"60095e3d4e4173083ded4e8a12e6c7ddd48913e0d1\",callServer,void 0,findSourceMapURL,\"updateProject\");","/* __next_internal_action_entry_do_not_use__ [{\"40bc103f492b054c2a0e26064e9bcd8274593ac6c1\":\"updateUserStatus\"},\"src/lib/actions/manager/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updateUserStatus=/*#__PURE__*/createServerReference(\"40bc103f492b054c2a0e26064e9bcd8274593ac6c1\",callServer,void 0,findSourceMapURL,\"updateUserStatus\");","/* __next_internal_action_entry_do_not_use__ [{\"7899d074825ab2fdb144caec3875c5e99aea2a7fa3\":\"getCustomData\"},\"src/lib/actions/manager/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var getCustomData=/*#__PURE__*/createServerReference(\"7899d074825ab2fdb144caec3875c5e99aea2a7fa3\",callServer,void 0,findSourceMapURL,\"getCustomData\");","\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport JSZip from \"jszip\";\r\nimport { IoDownloadOutline } from \"react-icons/io5\"\r\nimport { saveAs } from \"file-saver\";\r\nimport { GenericCrudModal } from \"../data-modal\";\r\nimport { tableConfig } from \"@/src/lib/definitions/table-config\";\r\nimport { formatValue } from \"@/src/lib/utils\";\r\nimport { getData } from \"@/src/lib/actions/student/action\";\r\nimport { useAuth } from \"@/src/lib/context/AuthContext\";\r\nimport { ProjectViewModal } from \"../project-modal\";\r\n\r\nexport default function EditData() {\r\n  const { user } = useAuth();\r\n  const [data, setData] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [schema, setSchema] = useState<any>(null);\r\n  const [openProjectModal, setOpenProjectModal] = useState(false);\r\n  const [dataProject, setDataProject] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    load();\r\n    setupSchema();\r\n  }, [user]);\r\n\r\n  async function load() {\r\n    if (!user?.id_user) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const project = await getData(\r\n        \"works\",\r\n        \"id_work, title, description, modes(name)\",\r\n        user.id_user,\r\n      );\r\n      if (\r\n        Array.isArray(project) &&\r\n        project.length > 0 &&\r\n        \"id_work\" in project[0]\r\n      ) {\r\n        setDataProject(project);\r\n        const progress = await getData(\r\n          \"work_documents\",\r\n          \"version, description, upload_date, professor_comments, document_professor_paths\",\r\n          undefined,\r\n          Number(project[0].id_work),\r\n        );\r\n        setData(progress || []);\r\n      } else {\r\n        setDataProject([]);\r\n      }\r\n    } catch (error) {\r\n      setData([]);\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  async function setupSchema() {\r\n    const config = tableConfig[\"studentAdvance\"];\r\n    if (!config || !user?.id_user) return;\r\n    let schemaCopy = structuredClone(config.schema);\r\n    setSchema(schemaCopy);\r\n  }\r\n\r\n  const handleSubmit = async (formValues: any) => {\r\n    const config = tableConfig[\"studentAdvance\"];\r\n    try {\r\n      const dataToSend = new FormData();\r\n      if (Array.isArray(formValues.file)) {\r\n        formValues.file.forEach((file: File) => {\r\n          dataToSend.append(\"files\", file);\r\n        });\r\n      }\r\n\r\n      dataToSend.append(\"description\", formValues.description);\r\n      dataToSend.append(\"version\", formValues.version);\r\n\r\n      if (dataProject && dataProject.length > 0) {\r\n        dataToSend.append(\"id_work\", dataProject[0].id_work);\r\n      }\r\n\r\n      await config.createAction(dataToSend);\r\n      setOpenModal(false);\r\n      await load();\r\n    } catch (error) {\r\n      console.error(\"Error al procesar\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-7 gap-4\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold text-gray-800\">\r\n            Dashboard Estudiante\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <button\r\n            onClick={() => setOpenProjectModal(true)}\r\n            className=\"py-2 px-4 rounded-xl bg-gray-600 text-white font-semibold hover:bg-gray-700 transition\"\r\n          >\r\n            Ver proyecto\r\n          </button>\r\n          <button\r\n            onClick={() => setOpenModal(true)}\r\n            className=\"py-2 px-4 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition shadow-sm\"\r\n          >\r\n            Nuevo avance\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-2xl shadow-sm border p-4 md:p-6\">\r\n        <div className=\"flex flex-col gap-6\">\r\n          <div className=\"relative h-[60vh] md:h-[65vh]\">\r\n            {loading ? (\r\n              <div className=\"flex items-center justify-center h-full text-gray-500\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3\"></div>\r\n                Cargando datos del proyecto\r\n              </div>\r\n            ) : (\r\n              <Table data={data} />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <ProjectViewModal\r\n        open={openProjectModal}\r\n        onClose={() => setOpenProjectModal(false)}\r\n        project={dataProject}\r\n      />\r\n\r\n      {schema && openModal && (\r\n        <GenericCrudModal\r\n          open={openModal}\r\n          onClose={() => setOpenModal(false)}\r\n          schema={schema}\r\n          onSubmit={handleSubmit}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Table({ data }: { data: any[] }) {\r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <div className=\"py-20 text-center text-gray-400 font-medium\">\r\n        No se encontraron registros.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const columns = Object.keys(data[0]);\r\n  const handleDownloadZip = async (\r\n    urls: string[],\r\n    version: string | number,\r\n  ) => {\r\n    const zip = new JSZip();\r\n    const folder = zip.folder(`archivos-profesor-v${version}`);\r\n\r\n    try {\r\n      const downloadPromises = urls.map(async (url, index) => {\r\n        const response = await fetch(url);\r\n        const blob = await response.blob();\r\n\r\n        const fileName =\r\n          url.split(\"/\").pop()?.split(\"?\")[0] || `archivo-${index}`;\r\n        folder?.file(fileName, blob);\r\n      });\r\n\r\n      await Promise.all(downloadPromises);\r\n\r\n      const content = await zip.generateAsync({ type: \"blob\" });\r\n      saveAs(content, `revision-profesor-v${version}.zip`);\r\n    } catch (error) {\r\n      console.error(\"Error generando el ZIP:\", error);\r\n      alert(\r\n        \"No se pudieron descargar algunos archivos. Revisa los permisos de CORS.\",\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto\">\r\n      <table className=\"w-full text-left border-separate border-spacing-0\">\r\n        <thead>\r\n          <tr className=\"bg-gray-50\">\r\n            {columns.map((col) => (\r\n              <th key={col} className=\"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b\">\r\n                {col.replace(\"_\", \" \")}\r\n              </th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"divide-y divide-gray-100\">\r\n          {data.map((row, i) => (\r\n            <tr key={i} className=\"hover:bg-blue-50/50 transition-colors group\">\r\n              {columns.map((col) => {\r\n                if (col === \"document_professor_paths\") {\r\n                  const urls = row[col];\r\n                  const hasFiles = Array.isArray(urls) && urls.length > 0;\r\n\r\n                  return (\r\n                    <td key={col} className=\"px-6 py-4 text-sm whitespace-nowrap\">\r\n                      {hasFiles ? (\r\n                        <button\r\n                          onClick={() => handleDownloadZip(urls, row.version || i)}\r\n                          className=\"flex items-center gap-2 px-3 py-1.5 bg-green-50 text-green-700 border border-green-200 rounded-lg hover:bg-green-100 transition-colors font-medium text-xs\"\r\n                        >\r\n                          <IoDownloadOutline size={16} />\r\n                          Descargar ZIP ({urls.length})\r\n                        </button>\r\n                      ) : (\r\n                        <span className=\"text-gray-400 italic\">Sin archivos</span>\r\n                      )}\r\n                    </td>\r\n                  );\r\n                }\r\n\r\n                return (\r\n                  <td key={col} className=\"px-6 py-4 text-sm text-gray-600 whitespace-nowrap\">\r\n                    {formatValue(row[col])}\r\n                  </td>\r\n                );\r\n              })}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n","/* __next_internal_action_entry_do_not_use__ [{\"78638fc83f544890cd09b72018dea6351a18b59af5\":\"getData\"},\"src/lib/actions/student/action.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var getData=/*#__PURE__*/createServerReference(\"78638fc83f544890cd09b72018dea6351a18b59af5\",callServer,void 0,findSourceMapURL,\"getData\");","\"use client\";\r\n\r\nexport function ProjectViewModal({\r\n  open,\r\n  onClose,\r\n  project,\r\n}: {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  project: any;\r\n}) {\r\n  if (!open || !project) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-2xl w-full max-w-xl p-6 space-y-6\">\r\n\r\n        <div className=\"flex justify-between items-center\">\r\n          <h2 className=\"text-2xl font-bold\">Ver proyecto</h2>\r\n          <button onClick={onClose}>âœ•</button>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">TÃ­tulo</p>\r\n            <p className=\"font-medium\">{project[0].title}</p>\r\n          </div>\r\n\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">DescripciÃ³n</p>\r\n            <p className=\"font-medium\">{project[0].description}</p>\r\n          </div>\r\n\r\n          <div>\r\n            <p className=\"text-sm text-gray-500\">Modo</p>\r\n            <p className=\"font-medium\">{project[0].modes.name}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"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","ignoreList":[1]}