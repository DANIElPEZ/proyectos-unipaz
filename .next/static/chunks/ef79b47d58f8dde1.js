(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2153,e=>{"use strict";var t=e.i(43476),a=e.i(82043),s=e.i(40141);function l(e){return(0,s.GenIcon)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"},child:[]}]})(e)}var r=e.i(73665),i=e.i(71645),c=e.i(95187),d=(0,c.createServerReference)("4067b80c92a413be84f8bc0b56d1e5f264eb17f2b1",c.callServer,void 0,c.findSourceMapURL,"updateProfile"),n=e.i(57688);function o(){let{user:e}=(0,a.useAuth)(),[s,c]=(0,i.useState)(!1),[o,x]=(0,i.useState)(null),[u,m]=(0,i.useState)(null);async function h(){if(!o)return;let t=new FormData;t.append("file",o),t.append("userId",String(e.id_user)),await d(t),c(!1),window.location.reload()}return console.log(e),(0,t.jsxs)("div",{className:"flex justify-center px-4 py-10 w-full",children:[(0,t.jsxs)("div",{className:"w-full max-w-md rounded-3xl bg-white shadow-xl border border-gray-200 overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-(--primary-color) h-24 relative",children:(0,t.jsx)("div",{className:"absolute -bottom-12 left-1/2 -translate-x-1/2",children:(0,t.jsx)("div",{className:"w-28 h-28 rounded-full bg-white flex items-center justify-center shadow-lg border-4 border-white overflow-hidden",children:e?.photo?(0,t.jsx)(n.default,{src:e.photo,alt:"Foto de perfil",width:112,height:112,className:"rounded-full object-cover"}):(0,t.jsx)(l,{className:"text-7xl text-gray-400"})})})}),(0,t.jsxs)("div",{className:"pt-16 pb-6 px-6 text-center",children:[(0,t.jsx)("button",{onClick:()=>c(!0),className:"px-6 py-2 rounded-lg bg-(--primary-color) text-white font-medium hover:opacity-90 transition",children:"Nueva foto"}),(0,t.jsx)("h1",{className:"text-3xl font-semibold text-gray-800 mt-4",children:e?.name}),(0,t.jsx)("span",{className:"inline-block mt-2 px-4 py-1 text-base font-medium rounded-full bg-blue-100 text-blue-700",children:e?.role}),(0,t.jsxs)("div",{className:"mt-6 space-y-4 text-sm text-gray-700 text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 border-b pb-3",children:[(0,t.jsx)(r.MdEmail,{className:"text-4xl text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xl text-gray-500",children:"Email"}),(0,t.jsx)("p",{className:"font-medium text-lg",children:e?.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 border-b pb-3",children:[(0,t.jsx)(r.MdBadge,{className:"text-4xl text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xl text-gray-500",children:"Documento"}),(0,t.jsx)("p",{className:"font-medium text-lg",children:e?.id_document})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 border-b pb-3",children:[(0,t.jsx)(r.MdBadge,{className:"text-4xl text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xl text-gray-500",children:"Programa"}),(0,t.jsx)("p",{className:"font-medium text-lg",children:e?.program_name})]})]})]})]})]}),s&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 w-96",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Actualizar foto"}),u?(0,t.jsx)("img",{src:u,className:"w-32 h-32 rounded-full object-cover mx-auto mb-4"}):(0,t.jsx)("div",{className:"w-32 h-32 rounded-full bg-gray-200 mx-auto mb-4"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){let t=e.target.files?.[0];t&&(x(t),m(URL.createObjectURL(t)))}}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,t.jsx)("button",{onClick:()=>c(!1),className:"px-4 py-2 border rounded",children:"Cancelar"}),(0,t.jsx)("button",{onClick:h,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Guardar"})]})]})})]})}var x=e.i(69620),u=(0,c.createServerReference)("607ed4d0847bb47d9fdd1bef8b99e2d6489fcbd52c",c.callServer,void 0,c.findSourceMapURL,"updatePassword"),m=e.i(75157);function h({open:e,onClose:s}){let[l,r]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[n,o]=(0,i.useState)(""),{user:h}=(0,a.useAuth)(),f=async e=>{if(e.preventDefault(),l===c&&(0,m.validatePassword)(l))try{await u(l,h.id_user),r(""),d(""),s()}catch(e){o("Error al actualizar.")}else o("La contraseña es incorrecta.")};return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 relative shadow-xl",children:[(0,t.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,t.jsx)(x.IoClose,{size:22})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Actualizar contraseña"}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:f,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Nueva contraseña"}),(0,t.jsx)("input",{type:"password",value:l,onChange:e=>r(e.target.value),className:"w-full mt-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-(--primary-color)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-gray-600",children:"Confirmar contraseña"}),(0,t.jsx)("input",{type:"password",value:c,onChange:e=>d(e.target.value),className:"w-full mt-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-(--primary-color)"})]}),(0,t.jsx)("button",{className:"w-full mt-4 bg-(--primary-color) text-white py-2 rounded-lg font-medium hover:opacity-90",children:"Guardar cambios"}),n&&(0,t.jsx)("span",{className:"text-sm text-red-500",children:n})]})]})}):null}function f(){let[e,a]=(0,i.useState)(!1);return(0,t.jsxs)("div",{className:"w-full px-4 py-10 space-y-10 flex flex-col justify-center items-center",children:[(0,t.jsx)(o,{}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm p-6 flex flex-col w-full max-w-md",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Seguridad de la cuenta"}),(0,t.jsx)("button",{onClick:()=>a(!0),className:"px-6 py-2 rounded-lg bg-(--primary-color) text-white font-medium hover:opacity-90 transition",children:"Actualizar contraseña"})]}),(0,t.jsx)(h,{open:e,onClose:()=>a(!1)})]})}e.s(["default",()=>f],2153)}]);