module.exports=[65066,a=>{"use strict";var b=a.i(87924),c=a.i(56432),d=a.i(42343);function e(a){return(0,d.GenIcon)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"},child:[]}]})(a)}var f=a.i(328),g=a.i(72131),h=a.i(5050),i=(0,h.createServerReference)("4067b80c92a413be84f8bc0b56d1e5f264eb17f2b1",h.callServer,void 0,h.findSourceMapURL,"updateProfile"),j=a.i(71987);function k(){let{user:a}=(0,c.useAuth)(),[d,h]=(0,g.useState)(!1),[k,l]=(0,g.useState)(null),[m,n]=(0,g.useState)(null);async function o(){if(!k)return;let b=new FormData;b.append("file",k),b.append("userId",String(a.id_user)),await i(b),h(!1),window.location.reload()}return console.log(a),(0,b.jsxs)("div",{className:"flex justify-center px-4 py-10 w-full",children:[(0,b.jsxs)("div",{className:"w-full max-w-md rounded-3xl bg-white shadow-xl border border-gray-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-(--primary-color) h-24 relative",children:(0,b.jsx)("div",{className:"absolute -bottom-12 left-1/2 -translate-x-1/2",children:(0,b.jsx)("div",{className:"w-28 h-28 rounded-full bg-white flex items-center justify-center shadow-lg border-4 border-white overflow-hidden",children:a?.photo?(0,b.jsx)(j.default,{src:a.photo,alt:"Foto de perfil",width:112,height:112,className:"rounded-full object-cover"}):(0,b.jsx)(e,{className:"text-7xl text-gray-400"})})})}),(0,b.jsxs)("div",{className:"pt-16 pb-6 px-6 text-center",children:[(0,b.jsx)("button",{onClick:()=>h(!0),className:"px-6 py-2 rounded-lg bg-(--primary-color) text-white font-medium hover:opacity-90 transition",children:"Nueva foto"}),(0,b.jsx)("h1",{className:"text-3xl font-semibold text-gray-800 mt-4",children:a?.name}),(0,b.jsx)("span",{className:"inline-block mt-2 px-4 py-1 text-base font-medium rounded-full bg-blue-100 text-blue-700",children:a?.role}),(0,b.jsxs)("div",{className:"mt-6 space-y-4 text-sm text-gray-700 text-left",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 border-b pb-3",children:[(0,b.jsx)(f.MdEmail,{className:"text-4xl text-gray-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xl text-gray-500",children:"Email"}),(0,b.jsx)("p",{className:"font-medium text-lg",children:a?.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 border-b pb-3",children:[(0,b.jsx)(f.MdBadge,{className:"text-4xl text-gray-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xl text-gray-500",children:"Documento"}),(0,b.jsx)("p",{className:"font-medium text-lg",children:a?.id_document})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 border-b pb-3",children:[(0,b.jsx)(f.MdBadge,{className:"text-4xl text-gray-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xl text-gray-500",children:"Programa"}),(0,b.jsx)("p",{className:"font-medium text-lg",children:a?.program_name})]})]})]})]})]}),d&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 w-96",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Actualizar foto"}),m?(0,b.jsx)("img",{src:m,className:"w-32 h-32 rounded-full object-cover mx-auto mb-4"}):(0,b.jsx)("div",{className:"w-32 h-32 rounded-full bg-gray-200 mx-auto mb-4"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:function(a){let b=a.target.files?.[0];b&&(l(b),n(URL.createObjectURL(b)))}}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,b.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 border rounded",children:"Cancelar"}),(0,b.jsx)("button",{onClick:o,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Guardar"})]})]})})]})}var l=a.i(48617),m=(0,h.createServerReference)("607ed4d0847bb47d9fdd1bef8b99e2d6489fcbd52c",h.callServer,void 0,h.findSourceMapURL,"updatePassword"),n=a.i(68114);function o({open:a,onClose:d}){let[e,f]=(0,g.useState)(""),[h,i]=(0,g.useState)(""),[j,k]=(0,g.useState)(""),{user:o}=(0,c.useAuth)(),p=async a=>{if(a.preventDefault(),e===h&&(0,n.validatePassword)(e))try{await m(e,o.id_user),f(""),i(""),d()}catch(a){k("Error al actualizar.")}else k("La contraseña es incorrecta.")};return a?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 relative shadow-xl",children:[(0,b.jsx)("button",{onClick:d,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,b.jsx)(l.IoClose,{size:22})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Actualizar contraseña"}),(0,b.jsxs)("form",{className:"space-y-4",onSubmit:p,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-gray-600",children:"Nueva contraseña"}),(0,b.jsx)("input",{type:"password",value:e,onChange:a=>f(a.target.value),className:"w-full mt-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-(--primary-color)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-gray-600",children:"Confirmar contraseña"}),(0,b.jsx)("input",{type:"password",value:h,onChange:a=>i(a.target.value),className:"w-full mt-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-(--primary-color)"})]}),(0,b.jsx)("button",{className:"w-full mt-4 bg-(--primary-color) text-white py-2 rounded-lg font-medium hover:opacity-90",children:"Guardar cambios"}),j&&(0,b.jsx)("span",{className:"text-sm text-red-500",children:j})]})]})}):null}function p(){let[a,c]=(0,g.useState)(!1);return(0,b.jsxs)("div",{className:"w-full px-4 py-10 space-y-10 flex flex-col justify-center items-center",children:[(0,b.jsx)(k,{}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm p-6 flex flex-col w-full max-w-md",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Seguridad de la cuenta"}),(0,b.jsx)("button",{onClick:()=>c(!0),className:"px-6 py-2 rounded-lg bg-(--primary-color) text-white font-medium hover:opacity-90 transition",children:"Actualizar contraseña"})]}),(0,b.jsx)(o,{open:a,onClose:()=>c(!1)})]})}a.s(["default",()=>p],65066)}];

//# sourceMappingURL=app_profile_page_tsx_d7e3fb30._.js.map